#!/bin/bash

# âš ï¸ è¯·å…ˆå®‰è£… Gitã€Node.jsã€Expo CLI å’Œ EAS CLI
# âš ï¸ ç¡®ä¿å½“å‰ç›®å½•ä¸ºå®Œæ•´é¡¹ç›®æ ¹ç›®å½•

# 1ï¸âƒ£ è®¾ç½®å˜é‡
REPO_URL="https://github.com/janeTingl/-T-.git"
BRANCH="main"

echo "=============================="
echo "ğŸ“‚ åˆå§‹åŒ– Git ä»“åº“"
echo "=============================="
git init
git add .
git commit -m "è‡ªåŠ¨æäº¤ï¼šæ›´æ–°é¡¹ç›®ä»£ç "

echo "=============================="
echo "ğŸŒ è®¾ç½®è¿œç¨‹ä»“åº“"
echo "=============================="
git remote add origin $REPO_URL
git branch -M $BRANCH

echo "=============================="
echo "â¬†ï¸ æ¨é€åˆ° GitHub"
echo "=============================="
git push -u origin $BRANCH

echo "=============================="
echo "ğŸ“¦ å®‰è£…ä¾èµ–"
echo "=============================="
npm install

echo "=============================="
echo "ğŸ”¨ æ„å»º APK"
echo "=============================="
# å¦‚æœå°šæœªç™»å½• EASï¼Œè¯·å…ˆæ‰‹åŠ¨è¿è¡Œï¼šeas login
eas build -p android --profile release

echo "=============================="
echo "âœ… æ„å»ºå®Œæˆï¼Œè¯·æŸ¥çœ‹ EAS æä¾›çš„ APK ä¸‹è½½é“¾æ¥"
echo "=============================="
